{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from '@vue/reactivity';\nimport { useRoute, useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { watch } from 'vue';\nexport default {\n  name: 'MyPage',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    let nickName = ref(route.query.nickName);\n    let mypageData = ref({});\n    let phoneNum = ref('');\n    let updateKey = ref(0);\n    let purchaseList = ref(true);\n    let cart = ref(false);\n    let deliInfo = ref(false);\n    let qna = ref(false);\n    let point = ref(false);\n    let info = ref(false);\n    let reviews = ref(false);\n    let totalPrice = ref(0);\n    let purchaseDetail = ref(false);\n    let reviewProductId = ref();\n    let reviewOrderId = ref();\n    let reviewProductName = ref('');\n    let qnaWrite = ref(false);\n    let reviewWrite = ref(false);\n    let reviewText = ref('');\n    let reviewLength = ref(0);\n    let reviewGrade = ref(5);\n    let qnaText = ref('');\n    let qnaList = ref([]);\n    let changeData = ref({\n      name: '',\n      phoneNum: '',\n      addressNum: '',\n      address: '',\n      addressName: '',\n      detailAddress: ''\n    });\n    let changePn = ref('');\n    axios.get('/api/customer/mypage?nickName=' + route.query.nickName).then(res => {\n      mypageData.value = res.data;\n      phoneNum.value = res.data.phoneNum;\n      qnaList.value = res.data.qna;\n      changeData.value.name = res.data.name;\n      changePn.value = res.data.phoneNum;\n      changeData.value.addressNum = res.data.addressNum;\n      changeData.value.address = res.data.address;\n      changeData.value.addressName = res.data.addressName;\n      changeData.value.detailAddress = res.data.detailAddress;\n      if (route.query.cart === '1') {\n        purchaseList.value = false;\n        deliInfo.value = false;\n        cart.value = true;\n        reviews.value = false;\n        qna.value = false;\n        point.value = false;\n        info.value = false;\n        updateKey.value++;\n      }\n      for (let i = 0; i < res.data.cart.length; i++) {\n        totalPrice.value += res.data.cart[i].totalPrice;\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    function clickPurchaseData() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = true;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function clickDeliInfo() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = true;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function clickCart() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = true;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function clickReviews() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = true;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function clickQna() {\n      reviewWrite.value = false;\n      qnaWrite.value = true;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = true;\n      point.value = false;\n      info.value = false;\n    }\n    function clickPoint() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = true;\n      info.value = false;\n    }\n    function clickInfo() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = true;\n    }\n    function clickPurchase() {\n      if (totalPrice.value === 0) {\n        alert('결제할 상품이 없습니다.');\n      } else {\n        reviewWrite.value = false;\n        qnaWrite.value = false;\n        purchaseDetail.value = true;\n        purchaseList.value = false;\n        deliInfo.value = false;\n        cart.value = false;\n        reviews.value = false;\n        qna.value = false;\n        point.value = false;\n        info.value = false;\n      }\n    }\n    function clickBack() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = true;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function inputName(e) {\n      mypageData.value.name = e.target.value;\n    }\n    function inputPhoneNum(e) {\n      phoneNum.value = e.target.value;\n    }\n    watch(phoneNum, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      let blank_pattern = /[\\s]/g;\n      if (isNaN(newValue) || blank_pattern.test(newValue)) {\n        phoneNum.value = oldValue;\n      }\n    });\n    function inputAddress() {\n      new window.daum.Postcode({\n        oncomplete: function (data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n          if (data.userSelectedType === 'R') {\n            if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n            if (data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += extraAddr !== '' ? ', ' + data.buildingName : data.buildingName;\n            }\n            if (extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n            mypageData.value.addressName = extraAddr;\n          } else {\n            mypageData.value.addressName = '';\n          }\n          mypageData.value.addressNum = data.zonecode;\n          mypageData.value.address = addr;\n          document.getElementById('detailAddress').focus();\n        }\n      }).open();\n    }\n    function deleteCart(e) {\n      const nodes = [...e.target.parentElement.parentElement.parentElement.children];\n      let cartIndex = nodes.indexOf(e.target.parentElement.parentElement) - 1;\n      let cartId = mypageData.value.cart[cartIndex].cartId;\n      axios.delete('/api/customer/mypage/deleteCart?nickName=' + nickName.value + '&cartId=' + cartId).then(result => {\n        totalPrice.value -= mypageData.value.cart[cartIndex].totalPrice;\n        console.log(result.data);\n        mypageData.value.cart = result.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    function clickFinal() {\n      if (mypageData.value.name === '' || phoneNum.value === '' || mypageData.value.addressNum === '' || mypageData.value.address === '' || mypageData.value.addressName === '' || mypageData.value.detailAddress === '') alert('배송지 정보를 모두 입력해 주십시오.');else {\n        let purchaseInfo = [];\n        for (let i = 0; i < mypageData.value.cart.length; i++) {\n          purchaseInfo.push({\n            nickName: mypageData.value.nickName,\n            name: mypageData.value.name,\n            phoneNum: phoneNum.value,\n            addressNum: mypageData.value.addressNum,\n            address: mypageData.value.address,\n            addressName: mypageData.value.addressName,\n            detailAddress: mypageData.value.detailAddress,\n            productName: mypageData.value.cart[i].productName,\n            productId: mypageData.value.cart[i].productId,\n            orderNum: mypageData.value.cart[i].productNum,\n            optionText: mypageData.value.cart[i].productOption,\n            totalPrice: mypageData.value.cart[i].totalPrice,\n            cartId: mypageData.value.cart[i].cartId\n          });\n        }\n        console.log(purchaseInfo);\n        axios.post('/api/product/cartPurchase', purchaseInfo).then(result => {\n          console.log(result.data);\n          router.push({\n            name: 'PurchaseComplete'\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function clickDeliNum() {\n      window.open('https://www.ilogen.com/m/personal/trace/1234556712');\n    }\n    function clickReview(e) {\n      const nodes = [...e.target.parentElement.parentElement.parentElement.children];\n      let cartIndex = nodes.indexOf(e.target.parentElement.parentElement) - 1;\n      reviewOrderId.value = mypageData.value.purchaseData[cartIndex].orderId;\n      reviewProductId.value = mypageData.value.purchaseData[cartIndex].productId;\n      reviewProductName.value = mypageData.value.purchaseData[cartIndex].productName;\n      console.log(reviewOrderId.value);\n      reviewWrite.value = true;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n    function inputReview(e) {\n      if (e.target.value.length <= 100) {\n        reviewText.value = e.target.value;\n      } else {\n        alert('100자 이내로 입력하시기 바랍니다.');\n        e.target.value = reviewText.value;\n      }\n    }\n    function reviewSubmit() {\n      if (reviewText.value === '') {\n        alert('후기 내용을 작성해주십시오.');\n      } else {\n        let reviewData = {\n          nickName: nickName.value,\n          text: reviewText.value,\n          star: reviewGrade.value,\n          productId: reviewProductId.value,\n          orderId: reviewOrderId.value\n        };\n        axios.put('/api/customer/mypage/reviewSubmit', reviewData).then(result => {\n          reviewText.value = '';\n          reviewWrite.value = false;\n          reviews.value = true;\n          reviewGrade.value = 5;\n          mypageData.value.purchaseData = result.data;\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function selectGrade(e) {\n      reviewGrade.value = e.target.value;\n      console.log(reviewGrade.value);\n    }\n    function inputQna(e) {\n      if (e.target.value.length <= 100) {\n        qnaText.value = e.target.value;\n      } else {\n        alert('100자 이내로 입력하시기 바랍니다.');\n        e.target.value = qna.value;\n      }\n    }\n    function qnaSubmit() {\n      if (qnaText.value === '') {\n        alert('문의 내용을 입력해주십시오.');\n      } else {\n        let qnaData = {\n          nickName: nickName.value,\n          text: qnaText.value\n        };\n        axios.post('/api/customer/mypage/personalQna', qnaData).then(result => {\n          qnaText.value = '';\n          alert('등록되었습니다.');\n          qnaList.value = result.data;\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function changeName(e) {\n      changeData.value.name = e.target.value;\n    }\n    function changePhoneNum(e) {\n      changePn.value = e.target.value;\n      changeData.value.phoneNum = e.target.value;\n    }\n    watch(changePn, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      let blank_pattern = /[\\s]/g;\n      if (isNaN(newValue) || blank_pattern.test(newValue)) {\n        changePn.value = oldValue;\n      }\n    });\n    function changeAddress() {\n      new window.daum.Postcode({\n        oncomplete: function (data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n          if (data.userSelectedType === 'R') {\n            if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n            if (data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += extraAddr !== '' ? ', ' + data.buildingName : data.buildingName;\n            }\n            if (extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n            changeData.value.addressName = extraAddr;\n          } else {\n            changeData.value.addressName = '';\n          }\n          changeData.value.addressNum = data.zonecode;\n          changeData.value.address = addr;\n          document.getElementById('changeDetailAddress').focus();\n        }\n      }).open();\n    }\n    function clickChange() {\n      axios.put('/api/customer/mypage/changeData', changeData).then(result => {\n        let data = result.data;\n        mypageData.value.name = data.name;\n        mypageData.value.phoneNum = data.phoneNum;\n        mypageData.value.addressNum = data.addressNum;\n        mypageData.value.address = data.address;\n        mypageData.value.detailAddress = data.detailAddress;\n        mypageData.value.addressName = data.addressName;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    return {\n      nickName,\n      updateKey,\n      purchaseList,\n      cart,\n      mypageData,\n      filter,\n      deliInfo,\n      reviews,\n      qna,\n      point,\n      info,\n      clickPurchaseData,\n      clickDeliInfo,\n      clickCart,\n      clickReviews,\n      clickQna,\n      clickPoint,\n      clickInfo,\n      totalPrice,\n      deleteCart,\n      clickPurchase,\n      purchaseDetail,\n      inputName,\n      inputPhoneNum,\n      inputAddress,\n      clickFinal,\n      clickBack,\n      clickDeliNum,\n      clickReview,\n      phoneNum,\n      qnaWrite,\n      reviewWrite,\n      reviewProductName,\n      reviewText,\n      reviewLength,\n      inputReview,\n      reviewSubmit,\n      selectGrade,\n      qnaText,\n      inputQna,\n      qnaSubmit,\n      qnaList,\n      changeName,\n      changePhoneNum,\n      changeData,\n      changeAddress,\n      changePn,\n      clickChange\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","useRoute","useRouter","axios","watch","name","setup","route","router","nickName","query","mypageData","phoneNum","updateKey","purchaseList","cart","deliInfo","qna","point","info","reviews","totalPrice","purchaseDetail","reviewProductId","reviewOrderId","reviewProductName","qnaWrite","reviewWrite","reviewText","reviewLength","reviewGrade","qnaText","qnaList","changeData","addressNum","address","addressName","detailAddress","changePn","get","then","res","value","data","i","length","catch","err","console","log","filter","val","String","replace","clickPurchaseData","clickDeliInfo","clickCart","clickReviews","clickQna","clickPoint","clickInfo","clickPurchase","alert","clickBack","inputName","e","target","inputPhoneNum","newValue","oldValue","blank_pattern","isNaN","test","inputAddress","window","daum","Postcode","oncomplete","addr","extraAddr","userSelectedType","roadAddress","jibunAddress","bname","buildingName","apartment","zonecode","document","getElementById","focus","open","deleteCart","nodes","parentElement","children","cartIndex","indexOf","cartId","delete","result","clickFinal","purchaseInfo","push","productName","productId","orderNum","productNum","optionText","productOption","post","clickDeliNum","clickReview","purchaseData","orderId","inputReview","reviewSubmit","reviewData","text","star","put","selectGrade","inputQna","qnaSubmit","qnaData","changeName","changePhoneNum","changeAddress","clickChange"],"sourceRoot":"","sources":["/Users/kgj/Desktop/project/market-project/golfMarket/frontend/src/components/MyPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div align='left' class=\"mt-4\">\n      <h1>마이페이지</h1>\n      <span style=\"color:darkgray\">나의 주문 정보 및 개인 정보를 관리할 수 있습니다</span>\n    </div>\n    <hr/>\n\n    <div class=\"border mt-3\" v-if=\"updateKey === 0\">\n      <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickPurchaseData\" class=\"nav-link mypage-option active\" id=\"purchase-data\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"true\">주문목록</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickDeliInfo\" class=\"nav-link mypage-option\" id=\"deliInfo\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"true\">배송조회</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickCart\" class=\"nav-link mypage-option\" id=\"cart\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">장바구니</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickReviews\" class=\"nav-link mypage-option\" id=\"reviews\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">후기작성</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickQna\" class=\"nav-link mypage-option\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">1:1문의</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickPoint\" class=\"nav-link mypage-option\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">포인트</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickInfo\" class=\"nav-link mypage-option col-3\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">정보수정</button>\n        </li>\n      </ul>\n    </div>\n    <div class=\"border mt-3\" v-if=\"updateKey === 1\">\n      <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickPurchaseData\" class=\"nav-link mypage-option\" id=\"purchase-data\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"true\">주문목록</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickDeliInfo\" class=\"nav-link mypage-option\" id=\"deliInfo\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"true\">배송조회</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickCart\" class=\"nav-link mypage-option active\" id=\"cart\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">장바구니</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickReviews\" class=\"nav-link mypage-option\" id=\"reviews\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">리뷰관리</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickQna\" class=\"nav-link mypage-option\" id=\"Qna\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">1:1문의</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickPoint\" class=\"nav-link mypage-option\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">포인트</button>\n        </li>\n        <li class=\"nav-item\" role=\"presentation\">\n          <button @click=\"clickInfo\" class=\"nav-link mypage-option col-3\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">정보수정</button>\n        </li>\n      </ul>\n    </div>\n    <div v-if=\"purchaseList\">\n      <div class=\"mt-3\" align=\"left\">\n        <span style=\"color:darkgray\">결제취소, 반품은 1:1문의로 문의 부탁드립니다.</span>\n      </div>  \n      \n      <div>\n        <div>\n          <hr/>\n          <div class=\"row mt-4\">\n            <div class=\"col-5\"> <h6>주문상품 및 옵션</h6></div>\n            <div class=\"col-2\"><h6>수량</h6></div>\n            <div class=\"col-3\"> <h6>상품금액</h6></div>\n            <div class=\"col-2\"><h6>상태</h6></div>\n          </div>\n          <div class=\"row\" v-for=\"item in mypageData.purchaseData\" :key=\"item\">\n            <hr/>\n            <div class=\"col-5\">\n              <div class=\"d-none d-lg-block\"> <h5>{{item.productName}}</h5> </div>\n              <div class=\"d-block d-lg-none\"> <h6>{{item.productName}}</h6> </div>\n              <div style=\"color:darkgray; font-size: 14px;\">{{item.optionText}}</div>\n            </div>\n            <div class=\"col-2 d-none d-lg-block\"><h5> {{item.orderNum}} </h5></div>\n            <div class=\"col-2 d-block d-lg-none\"><h6> {{item.orderNum}} </h6></div>\n            <div class=\"col-3\">\n              <div class=\"d-none d-lg-block\" style=\"font-weight:bold;\"> <h5>{{filter(item.totalPrice)}} 원</h5>  </div>\n              <div class=\"d-block d-lg-none\" style=\"font-weight:bold;\"> <h6>{{filter(item.totalPrice)}} 원</h6>  </div>\n            </div>\n            <div class=\"col-2\">\n              <div style=\"font-size: small;\" class=\"d-block d-md-none\"> {{ item.currentState }} </div>\n              <div class=\"d-none d-md-block\"> {{ item.currentState }} </div>\n            </div>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n    <div v-if=\"cart\">\n      <div>\n        <div>\n          <div class=\"row mt-4\">\n            <div class=\"col-5\"> <h6>상품 및 옵션</h6></div>\n            <div class=\"col-2\"><h6>수량</h6></div>\n            <div class=\"col-3\"> <h6>상품금액</h6></div>\n            <div class=\"col-2\"><h6></h6></div>\n          </div>\n          <div class=\"row\" v-for=\"item in mypageData.cart\" :key=\"item\">\n            <hr/>\n            <div class=\"col-5\">\n              <div class=\"d-none d-lg-block\"> <h5>{{item.productName}}</h5> </div>\n              <div class=\"d-block d-lg-none\"> <h6>{{item.productName}}</h6> </div>\n              <div style=\"color:darkgray\">{{item.productOption}}</div>\n            </div>\n            <div class=\"col-2 d-none d-lg-block\"><h5> {{item.productNum}} </h5></div>\n            <div class=\"col-2 d-block d-lg-none\"><h6> {{item.productNum}} </h6></div>\n            <div class=\"col-3\">\n              <div class=\"d-none d-lg-block\" style=\"font-weight:bold;\"> <h5>{{filter(item.totalPrice)}} 원</h5>  </div>\n              <div class=\"d-block d-lg-none\" style=\"font-weight:bold;\"> <h6>{{filter(item.totalPrice)}} 원</h6>  </div>\n            </div>\n            <div class=\"col-2\">\n              <button @click=\"deleteCart\" class=\"btn btn-danger btn-sm\">삭제</button>\n              <!-- <div style=\"font-size: small;\" class=\"d-block d-md-none\"> {{ item.currentState }} </div>\n              <div class=\"d-none d-md-block\"> {{ item.currentState }} </div> -->\n            </div>\n          </div>\n        </div>\n        \n      </div>\n      <hr/>\n      <div class=\"mt-4 d-flex\">\n        <h3 style=\"color:red; font-weight:bold;\">총 결제 금액:</h3>\n        <h3 class=\"ms-3\"> {{filter(totalPrice)}} 원 </h3>\n        <button @click=\"clickPurchase\" class=\"btn btn-danger ms-4\" style=\"font-weight:bold;\">결제하기</button>\n      </div>\n    </div>\n\n    <!-- purchase detail -->\n    <div v-if=\"purchaseDetail\" class=\"container\">\n      <div class=\"mt-4 mb-4\">\n        <h1 align='left'>주문/결제</h1>\n      </div>\n      <hr/>\n      <div class=\"mt-3 mb-3\">\n        <h4 style=\"font-weight:bold;\" align=\"left\">배송지 입력 (수정 가능)</h4>\n      </div>\n      <div class=\"border\">\n        <div class=\"col-5 col-lg-3 ms-1 me-1 mt-3 mb-3\">\n          <div align='left' class=\"ms-1 mb-1\">성명</div>\n          <input v-bind:value=\"mypageData.name\" @input=\"inputName\" type=\"text\" class=\"form-control mb-2\" id=\"name\" placeholder=\"성명\" maxlength=\"6\">\n          <div align='left' class=\"ms-1 mb-1\">휴대폰 번호</div>\n          <input v-bind:value=\"phoneNum\" @input=\"inputPhoneNum\" type=\"tel\" class=\"form-control mb-2\" id=\"phoneNum\" placeholder=\"휴대폰 번호 (10~11자)\" maxlength=\"11\">\n        </div>\n        <div class=\"ms-1 col-11 col-lg-7 mt-3\">\n          <div class=\"d-flex\">\n            <div class=\"col-6\">\n              <input type=\"text\" class=\"form-control mb-2\" id=\"address-num\" v-model=\"mypageData.addressNum\" placeholder=\"우편번호\" readonly>\n            </div>\n            <div class=\"col-auto ms-1\">\n              <button  type=\"button\" class=\"btn btn-light border\" @click=\"inputAddress\">우편번호 찾기</button>\n            </div>\n          </div>\n          <div class=\"d-flex\">\n            <div class=\"col-9 pe-1\">\n              <input type=\"text\" class=\"form-control mb-2\" id=\"address1\" v-model=\"mypageData.address\" placeholder=\"주소\"  readonly>\n            </div>\n            <div class=\"col-3 ps-1\" >\n              <input type=\"text\" class=\"form-control mb-2\" id=\"address3\" v-model=\"mypageData.addressName\" placeholder=\"\" readonly>\n            </div>\n          </div>\n          <div class=\"d-flex\">\n            <div class=\"col-12\">\n              <input type=\"text\" class=\"form-control mb-2\" id=\"detailAddress\" v-model=\"mypageData.detailAddress\" placeholder=\"상세주소\" maxlength=\"25\">\n            </div>\n            \n          </div>\n        </div>\n      </div>\n      <div class=\"mt-4 mb-3\">\n        <h4 style=\"font-weight:bold;\" align='left'>주문상품</h4>\n      </div>\n      <hr/>\n      <div>\n        <div class=\"row mt-4\">\n          <div class=\"col-6\"> <h6>주문상품 및 옵션</h6></div>\n          <div class=\"col-2\"><h6>수량</h6></div>\n          <div class=\"col-4\"> <h6>상품금액</h6></div>\n        </div>\n        <div class=\"row\" v-for=\"item in mypageData.cart\" :key=\"item\">\n          <hr/>\n          <div class=\"col-6\">\n            <div class=\"d-none d-lg-block\"> <h5>{{item.productName}}</h5> </div>\n            <div class=\"d-block d-lg-none\"> <h6>{{item.productName}}</h6> </div>\n            <div style=\"color:darkgray\">{{item.productOption}}</div>\n          </div>\n          <div class=\"col-2 d-none d-lg-block\"><h5> {{item.productNum}} </h5></div>\n          <div class=\"col-2 d-block d-lg-none\"><h6> {{item.productNum}} </h6></div>\n          <div class=\"col-4\">\n            <div class=\"d-none d-lg-block\" style=\"font-weight:bold;\"> <h5>{{filter(item.totalPrice)}} 원</h5>  </div>\n            <div class=\"d-block d-lg-none\" style=\"font-weight:bold;\"> <h6>{{filter(item.totalPrice)}} 원</h6>  </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-4 d-flex\">\n        <h3 style=\"color:red; font-weight:bold;\">총 결제 금액:</h3>\n        <h3 class=\"ms-3\"> {{filter(totalPrice)}} 원 </h3>\n        <button @click=\"clickFinal\" class=\"btn btn-danger ms-4\" style=\"font-weight:bold;\">결제하기</button>\n        <button @click=\"clickBack\" class=\"btn btn-outline-success flex-shrink-0 ms-1\" style=\"font-weight:bold;\" type=\"button\">이전페이지</button>\n      </div>\n    </div>\n\n    <!-- 배송조회 -->\n    <div v-if=\"deliInfo\">\n      <div>\n        <div>\n          <div class=\"row mt-4\">\n            <div class=\"col-5\"> <h6>상품 및 옵션</h6></div>\n            <div class=\"col-4\"><h6>운송장번호</h6></div>\n            <div class=\"col-3\"> <h6>조회</h6></div>\n          </div>\n          <div class=\"row\" v-for=\"item in mypageData.purchaseData\" :key=\"item\">\n            <hr/>\n            <div class=\"col-5\">\n              <div class=\"d-none d-lg-block\"> <h5>{{item.productName}}</h5> </div>\n              <div class=\"d-block d-lg-none\"> <h6>{{item.productName}}</h6> </div>\n              <div style=\"color:darkgray\">{{item.optionText}}</div>\n            </div>\n            <div class=\"col-4 d-none d-lg-block\"><h5> {{item.deliNum}} </h5></div>\n            <div class=\"col-4 d-block d-lg-none\"><h6> {{item.deliNum}} </h6></div>\n            <div class=\"col-3\">\n              <button @click=\"clickDeliNum\" class=\"btn btn-light btn-sm border\">배송조회</button>\n            </div>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n    <!-- 후기 -->\n    <div v-if=\"reviews\">\n      <div>\n        <div>\n          <div class=\"row mt-4\">\n            <div class=\"col-5\"> <h6>상품 및 옵션</h6></div>\n            <div class=\"col-4\"><h6>구매 날짜</h6></div>\n            <div class=\"col-3\"> <h6></h6></div>\n          </div>\n          <div class=\"row\" v-for=\"item in mypageData.purchaseData\" :key=\"item\">\n            <hr/>\n            <div class=\"col-5\">\n              <div class=\"d-none d-lg-block\"> <h5>{{item.productName}}</h5> </div>\n              <div class=\"d-block d-lg-none\"> <h6>{{item.productName}}</h6> </div>\n              <div style=\"color:darkgray\">{{item.optionText}}</div>\n            </div>\n            <div class=\"col-4 d-none d-lg-block\"><h5> {{item.purchaseDate}} </h5></div>\n            <div class=\"col-4 d-block d-lg-none\"><h6> {{item.purchaseDate}} </h6></div>\n            <div v-if=\"item.review === false\" class=\"col-3\">\n              <button @click=\"clickReview\" class=\"btn btn-light btn-sm border\">리뷰쓰기</button>\n            </div>\n            <div v-if=\"item.review\" class=\"col-3\">\n              작성완료\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n   \n    <div class=\"mb-3\" v-if=\"reviewWrite\">\n      <div class=\"row p-5 bg-light rounded-3 mt-3\">\n        <div class=\"row\" style=\"font-weight:30; font-size:23px;\">\n          주문하신 상품에 관한 후기를 남겨주세요.\n        </div>\n        <li class=\"row mb-4\" style=\"color:darkgray\">\n          ({{ reviewProductName }})\n        </li>\n        <li class=\"row mb-4\" style=\"color:darkgray\">\n          리뷰 작성 시 300포인트 지급\n        </li>\n        <div align=\"left\" class=\"col-3 mb-1\">\n          평점:\n          <select @change=\"selectGrade\" name=\"grade\">\n            <option value=\"5\" selected=\"selected\">5</option>\n            <option value=\"4\">4</option>\n            <option value=\"3\">3</option>\n            <option value=\"2\">2</option>\n            <option value=\"1\">1</option>\n          </select>\n        </div>\n        <div class=\"row\">\n          <textarea v-bind:value=\"reviewText\" @input=\"inputReview\" class=\"col-10\" id=\"qna\" cols=\"30\" rows=\"3\"></textarea>\n          <button @click=\"reviewSubmit\" class=\"btn btn-secondary col-2\" style=\"font-weight:bold;\">등록</button>\n        </div>\n        <div align=\"left\">\n          <span>{{ reviewText.length }}/100</span>\n        </div>\n        \n      </div>\n    </div>\n    <div class=\"mb-3\" v-if=\"qnaWrite\">\n      <div class=\"row p-5 bg-light rounded-3 mt-3\">\n        <div class=\"row\" style=\"font-weight:30; font-size:23px;\">\n          결제취소, 반품, 교환 등 문의 사항을 작성해주십시오.\n        </div>\n        <li class=\"row mb-4\" style=\"color:darkgray\">\n          50자 이내로 작성\n        </li>\n        <div class=\"row\">\n          <textarea v-bind:value=\"qnaText\" @input=\"inputQna\" class=\"col-9\" id=\"qna\" cols=\"30\" rows=\"3\"></textarea>\n          <button @click=\"qnaSubmit\" class=\"btn btn-secondary col-2\" style=\"font-weight:bold;\">등록</button>\n        </div>\n        <div align=\"left\">\n          <span>{{ qnaText.length }}/100</span>\n        </div>\n      </div>\n      <div v-for=\"item in qnaList\" :key=\"item\" align='left'>\n        <hr/>\n        <div>\n          <span> 작성자 : {{item.nickName}}</span>\n          <span style=\"font-size:12px\" class=\"ms-2\">{{item.date}} </span>\n        </div>\n        <div class=\"mt-3\">\n          {{item.text}}\n        </div>\n      </div>\n    </div>\n    <div class=\"mb-3\" v-if=\"point\">\n      <div class=\"row p-5 bg-light rounded-3 mt-3\">\n        <span><h3>보유 중인 포인트 : {{ mypageData.point }}P</h3></span>\n      </div>\n    </div>\n    <div v-if=\"info\" class=\"border\">\n      <div class=\"col-5 col-lg-3 ms-1 me-1 mt-3 mb-3\">\n        <div align='left' class=\"ms-1 mb-1\">성명</div>\n        <input v-bind:value=\"changeData.name\" @input=\"changeName\" type=\"text\" class=\"form-control mb-2\" placeholder=\"성명\" maxlength=\"6\">\n        <div align='left' class=\"ms-1 mb-1\">휴대폰 번호</div>\n        <input v-bind:value=\"changePn\" @input=\"changePhoneNum\" type=\"tel\" class=\"form-control mb-2\" placeholder=\"휴대폰 번호 (10~11자)\" maxlength=\"11\">\n      </div>\n      <div class=\"ms-1 col-11 col-lg-7 mt-3\">\n        <div class=\"d-flex\">\n          <div class=\"col-6\">\n            <input type=\"text\" class=\"form-control mb-2\"  v-model=\"changeData.addressNum\" placeholder=\"우편번호\" readonly>\n          </div>\n          <div class=\"col-auto ms-1\">\n            <button  type=\"button\" class=\"btn btn-light border\" @click=\"changeAddress\">우편번호 찾기</button>\n          </div>\n        </div>\n        <div class=\"d-flex\">\n          <div class=\"col-9 pe-1\">\n            <input type=\"text\" class=\"form-control mb-2\" id=\"address1\" v-model=\"changeData.address\" placeholder=\"주소\"  readonly>\n          </div>\n          <div class=\"col-3 ps-1\" >\n            <input type=\"text\" class=\"form-control mb-2\" id=\"address3\" v-model=\"changeData.addressName\" placeholder=\"\" readonly>\n          </div>\n        </div>\n        <div class=\"d-flex\">\n          <div class=\"col-12\">\n            <input type=\"text\" class=\"form-control mb-2\" id=\"changeDetailAddress\" v-model=\"changeData.detailAddress\" placeholder=\"상세주소\" maxlength=\"25\">\n          </div>\n          \n        </div>\n      </div>\n      <div align=\"left\">\n        <button @click=\"\" style=\"font-weight: bold;\" class=\"btn btn-danger mt-2 mb-2\">변경하기</button>\n      </div>\n      \n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/reactivity';\nimport { useRoute, useRouter} from 'vue-router'\nimport axios from 'axios';\nimport { watch } from 'vue';\nexport default {\n  name: 'MyPage',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    let nickName = ref(route.query.nickName);\n    let mypageData = ref({});\n    let phoneNum = ref('');\n    let updateKey = ref(0);\n    let purchaseList = ref(true);\n    let cart = ref(false);\n    let deliInfo = ref(false);\n    let qna = ref(false);\n    let point = ref(false);\n    let info = ref(false);\n    let reviews = ref(false);\n    let totalPrice = ref(0);\n    let purchaseDetail = ref(false);\n    let reviewProductId = ref();\n    let reviewOrderId = ref();\n    let reviewProductName = ref('');\n    let qnaWrite = ref(false);\n    let reviewWrite = ref(false);\n    let reviewText = ref('');\n    let reviewLength = ref(0);\n    let reviewGrade = ref(5);\n    let qnaText = ref('');\n    let qnaList = ref([]);\n    let changeData = ref({\n      name : '',\n      phoneNum : '',\n      addressNum : '',\n      address : '',\n      addressName: '',\n      detailAddress : ''\n    });\n    let changePn = ref('');\n   \n\n\n    axios.get('/api/customer/mypage?nickName=' + route.query.nickName)\n    .then(res=>{\n      mypageData.value = res.data;\n      phoneNum.value = res.data.phoneNum;\n      qnaList.value = res.data.qna;\n      changeData.value.name = res.data.name;\n      changePn.value = res.data.phoneNum;\n      changeData.value.addressNum = res.data.addressNum;\n      changeData.value.address = res.data.address;\n      changeData.value.addressName = res.data.addressName;\n      changeData.value.detailAddress = res.data.detailAddress;\n      if(route.query.cart === '1') {\n        purchaseList.value = false;\n        deliInfo.value = false;\n        cart.value = true;\n        reviews.value = false;\n        qna.value = false;\n        point.value = false;\n        info.value = false;\n        updateKey.value++;\n      }\n      for(let i = 0 ; i < res.data.cart.length; i++) {\n        totalPrice.value += res.data.cart[i].totalPrice;\n      }\n    })\n    .catch(err=>{\n      console.log(err);\n    })\n\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    function clickPurchaseData() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = true;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    function clickDeliInfo() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = true;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    function clickCart() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = true;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    function clickReviews() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = true;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    function clickQna() {\n      reviewWrite.value = false;\n      qnaWrite.value = true;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = true;\n      point.value = false;\n      info.value = false;\n    }\n\n    function clickPoint() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = true;\n      info.value = false;\n    }\n\n\n    function clickInfo() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = true;\n    }\n\n    function clickPurchase() {\n      if(totalPrice.value === 0) {\n        alert('결제할 상품이 없습니다.');\n      } else {\n        reviewWrite.value = false;\n        qnaWrite.value = false;\n        purchaseDetail.value = true;\n        purchaseList.value = false;\n        deliInfo.value = false;\n        cart.value = false;\n        reviews.value = false;\n        qna.value = false;\n        point.value = false;\n        info.value = false;\n      }\n    }\n\n    function clickBack() {\n      reviewWrite.value = false;\n      qnaWrite.value = false;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = true;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    function inputName(e) {\n      mypageData.value.name = e.target.value;\n    }\n\n    function inputPhoneNum(e) {\n      phoneNum.value = e.target.value;\n    }\n\n    watch(phoneNum, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      let blank_pattern = /[\\s]/g;\n      if (isNaN(newValue) || blank_pattern.test(newValue) ) {\n        phoneNum.value = oldValue;\n      }\n    });\n\n    function inputAddress() {\n      new window.daum.Postcode({\n        oncomplete: function(data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n\n          if (data.userSelectedType === 'R') {\n            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n\n            if(data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);\n            }\n\n            if(extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n\n            mypageData.value.addressName = extraAddr;\n          } else {\n            mypageData.value.addressName = '';\n          }\n\n          mypageData.value.addressNum = data.zonecode;\n          mypageData.value.address = addr;\n          document.getElementById('detailAddress').focus();\n        }\n      }).open();\n    }\n\n    function deleteCart(e) {\n      const nodes = [...e.target.parentElement.parentElement.parentElement.children];\n      let cartIndex = nodes.indexOf(e.target.parentElement.parentElement) - 1;\n      let cartId = mypageData.value.cart[cartIndex].cartId;\n      axios.delete('/api/customer/mypage/deleteCart?nickName=' + nickName.value\n      + '&cartId=' + cartId)\n      .then(result=>{\n        totalPrice.value -= mypageData.value.cart[cartIndex].totalPrice;\n        console.log(result.data);\n        mypageData.value.cart = result.data;\n      })\n      .catch(err=>{\n        console.log(err);\n      })\n    }\n\n    function clickFinal() {\n      if(\n        mypageData.value.name === '' ||\n        phoneNum.value === '' ||\n        mypageData.value.addressNum === '' ||\n        mypageData.value.address === '' ||\n        mypageData.value.addressName === '' ||\n        mypageData.value.detailAddress === ''\n      ) alert('배송지 정보를 모두 입력해 주십시오.');\n      else {\n        let purchaseInfo = [];\n        for(let i = 0; i < mypageData.value.cart.length; i++) {\n          purchaseInfo.push(\n            {\n              nickName : mypageData.value.nickName,\n              name : mypageData.value.name,\n              phoneNum :phoneNum.value,\n              addressNum : mypageData.value.addressNum,\n              address : mypageData.value.address,\n              addressName : mypageData.value.addressName,\n              detailAddress : mypageData.value.detailAddress,\n              productName : mypageData.value.cart[i].productName,\n              productId : mypageData.value.cart[i].productId,\n              orderNum : mypageData.value.cart[i].productNum,\n              optionText : mypageData.value.cart[i].productOption,\n              totalPrice : mypageData.value.cart[i].totalPrice,\n              cartId : mypageData.value.cart[i].cartId\n            }\n          )\n        }\n        console.log(purchaseInfo);\n        axios.post('/api/product/cartPurchase', purchaseInfo)\n        .then(result=>{\n          console.log(result.data);\n          router.push({name: 'PurchaseComplete'});\n        })\n        .catch(err=>{\n          console.log(err);\n        })\n      }\n    }\n\n    function clickDeliNum() {\n      window.open('https://www.ilogen.com/m/personal/trace/1234556712');\n    }\n\n    function clickReview(e) {\n      const nodes = [...e.target.parentElement.parentElement.parentElement.children];\n      let cartIndex = nodes.indexOf(e.target.parentElement.parentElement) - 1;\n      \n      reviewOrderId.value = mypageData.value.purchaseData[cartIndex].orderId;\n      reviewProductId.value = mypageData.value.purchaseData[cartIndex].productId;\n      reviewProductName.value = mypageData.value.purchaseData[cartIndex].productName;\n      console.log(reviewOrderId.value);\n\n      reviewWrite.value = true;\n      purchaseDetail.value = false;\n      purchaseList.value = false;\n      deliInfo.value = false;\n      cart.value = false;\n      reviews.value = false;\n      qna.value = false;\n      point.value = false;\n      info.value = false;\n    }\n\n    \n\n    function inputReview(e) {\n      if(e.target.value.length <= 100) {\n        reviewText.value = e.target.value;\n      } else {\n        alert('100자 이내로 입력하시기 바랍니다.');\n        e.target.value = reviewText.value;\n      }\n    }\n\n    function reviewSubmit() {\n      if(reviewText.value === '') {\n        alert('후기 내용을 작성해주십시오.');\n      } else {\n          let reviewData = {\n          nickName : nickName.value,\n          text : reviewText.value,\n          star : reviewGrade.value,\n          productId : reviewProductId.value,\n          orderId : reviewOrderId.value\n        }\n        axios.put('/api/customer/mypage/reviewSubmit', reviewData)\n        .then((result)=>{\n          reviewText.value = '';\n          reviewWrite.value = false;\n          reviews.value = true;\n          reviewGrade.value = 5;\n          mypageData.value.purchaseData = result.data;\n        })\n        .catch(err=>{\n          console.log(err);\n        })\n      }\n    }\n\n    function selectGrade(e) {\n      reviewGrade.value = e.target.value;\n      console.log(reviewGrade.value);\n    }\n\n    function inputQna(e) {\n      if(e.target.value.length <= 100) {\n        qnaText.value = e.target.value;\n      } else {\n        alert('100자 이내로 입력하시기 바랍니다.');\n        e.target.value = qna.value;\n      }\n    }\n\n    function qnaSubmit() {\n      if(qnaText.value === '') {\n        alert('문의 내용을 입력해주십시오.');\n      } else {\n          let qnaData = {\n          nickName : nickName.value,\n          text : qnaText.value\n        }\n        axios.post('/api/customer/mypage/personalQna', qnaData)\n        .then((result)=>{\n          qnaText.value = '';\n          alert('등록되었습니다.');\n          qnaList.value = result.data;\n        })\n        .catch(err=>{\n          console.log(err);\n        })\n      }\n    }\n\n    function changeName(e) {\n      changeData.value.name = e.target.value;\n    }\n\n    function changePhoneNum(e) {\n      changePn.value = e.target.value;\n      changeData.value.phoneNum = e.target.value;\n    }\n\n    watch(changePn, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      let blank_pattern = /[\\s]/g;\n      if (isNaN(newValue) || blank_pattern.test(newValue) ) {\n        changePn.value = oldValue;\n      }\n    });\n\n    function changeAddress() {\n      new window.daum.Postcode({\n        oncomplete: function(data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n\n          if (data.userSelectedType === 'R') {\n            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n\n            if(data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);\n            }\n\n            if(extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n\n            changeData.value.addressName = extraAddr;\n          } else {\n            changeData.value.addressName = '';\n          }\n\n          changeData.value.addressNum = data.zonecode;\n          changeData.value.address = addr;\n          document.getElementById('changeDetailAddress').focus();\n        }\n      }).open();\n    }\n\n    function clickChange() {\n      axios.put('/api/customer/mypage/changeData', changeData)\n      .then(result=>{\n        let data = result.data;\n        mypageData.value.name = data.name;\n        mypageData.value.phoneNum = data.phoneNum;\n        mypageData.value.addressNum = data.addressNum;\n        mypageData.value.address = data.address;\n        mypageData.value.detailAddress = data.detailAddress;\n        mypageData.value.addressName = data.addressName;\n      })\n      .catch(err=>{\n        console.log(err);\n      })\n    }\n    \n    \n  \n    return {nickName, updateKey, purchaseList, cart, mypageData, filter, deliInfo, reviews, qna, point, info, clickPurchaseData, clickDeliInfo,\n    clickCart, clickReviews, clickQna, clickPoint, clickInfo, totalPrice, deleteCart, clickPurchase, purchaseDetail, inputName, inputPhoneNum,\n    inputAddress, clickFinal, clickBack, clickDeliNum, clickReview, phoneNum, qnaWrite, reviewWrite, reviewProductName, reviewText, reviewLength,\n    inputReview, reviewSubmit, selectGrade, qnaText, inputQna, qnaSubmit, qnaList, changeName, changePhoneNum, changeData, changeAddress, changePn,\n    clickChange};\n  }\n}\n</script>\n\n<style>\n.mypage-option {\n  font-size: 15px !important;\n  padding: 5px !important;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}