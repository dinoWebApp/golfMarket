{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container px-4 px-lg-5 my-5\"\n};\nconst _hoisted_2 = {\n  class: \"row gx-4 gx-lg-5 align-items-center\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-6 col-xl-5\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"http://localhost:3000/static/image/${imagePath}\",\n  alt: \"product\",\n  class: \"card-img-top mb-5 mb-md-0\"\n})], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"col-md-6 col-xl-7\"\n};\nconst _hoisted_5 = {\n  class: \"small mb-1\"\n};\nconst _hoisted_6 = {\n  class: \"display-5 fw-bolder\"\n};\nconst _hoisted_7 = {\n  class: \"fs-5 mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"text-decoration-line-through\"\n};\nconst _hoisted_9 = {\n  style: {\n    \"font-weight\": \"900\",\n    \"font-size\": \"40px\",\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_10 = {\n  style: {\n    \"font-weight\": \"900\",\n    \"font-size\": \"30px\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", {\n  selected: \"\"\n}, \"옵션 선택\", -1 /* HOISTED */);\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"form-control text-center me-3\",\n  id: \"inputQuantity\",\n  type: \"num\",\n  value: \"1\",\n  style: {\n    \"max-width\": \"3rem\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-outline-dark flex-shrink-0\",\n  type: \"button\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi-cart-fill me-1\"\n}), /*#__PURE__*/_createTextVNode(\" Add to cart \")])], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, \"상품 코드: \" + _toDisplayString($setup.product.id), 1 /* TEXT */), _createElementVNode(\"h1\", _hoisted_6, _toDisplayString($setup.product.productName), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.filter($setup.product.beforeDiscount * 1 + $setup.optionPrice * 1)) + \" 원\", 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"span\", _hoisted_9, _toDisplayString($setup.discount($setup.product.beforeDiscount, $setup.product.productPrice, $setup.optionPrice)) + \"% \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($setup.filter($setup.product.productPrice * 1 + $setup.optionPrice * 1)) + \" 원 \", 1 /* TEXT */)])]), _createElementVNode(\"select\", {\n    id: \"optionText\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $setup.selectOption && $setup.selectOption(...args)),\n    class: \"form-select mb-5\",\n    \"aria-label\": \"Default select example\"\n  }, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.product.optionData, (item, index) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: index,\n      value: item.optionPrice\n    }, _toDisplayString(item.optionText) + \"(+\" + _toDisplayString(item.optionPrice) + \"원) \", 9 /* TEXT, PROPS */, _hoisted_12);\n  }), 128 /* KEYED_FRAGMENT */))], 32 /* HYDRATE_EVENTS */), _hoisted_13])])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAA6B;;EACjCA,KAAK,EAAC;AAAqC;gCAC9CC,oBAEM;EAFDD,KAAK,EAAC;AAAmB,iBAC5BC,oBAA2G;EAAtGC,GAAG,EAAC,iDAAiD;EAACC,GAAG,EAAC,SAAS;EAACH,KAAK,EAAC;;;EAE5EA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAY;;EACjBA,KAAK,EAAC;AAAqB;;EAC1BA,KAAK,EAAC;AAAW;;EACdA,KAAK,EAAC;AAA8B;;EAElCI,KAAmD,EAAnD;IAAA;IAAA;IAAA;EAAA;AAAmD;;EACnDA,KAAwC,EAAxC;IAAA;IAAA;EAAA;AAAwC;iCAKhDH,oBAA+B;EAAvBI,QAAQ,EAAR;AAAQ,GAAC,OAAK;;iCAM1BJ,oBAMM;EANDD,KAAK,EAAC;AAAQ,iBACjBC,oBAA6G;EAAtGD,KAAK,EAAC,+BAA+B;EAACM,EAAE,EAAC,eAAe;EAACC,IAAI,EAAC,KAAK;EAACC,KAAK,EAAC,GAAG;EAACJ,KAAuB,EAAvB;IAAA;EAAA;iBACrFH,oBAGS;EAHDD,KAAK,EAAC,oCAAoC;EAACO,IAAI,EAAC;iBACpDN,oBAAiC;EAA9BD,KAAK,EAAC;AAAmB,kCAAK,eAErC;;;uBA5BRS,oBAgCM,OAhCNC,UAgCM,GA/BJT,oBA8BM,OA9BNU,UA8BM,GA7BJC,UAEM,EACNX,oBAyBM,OAzBNY,UAyBM,GAxBJZ,oBAAoD,OAApDa,UAAoD,EAA5B,SAAO,oBAAEC,cAAO,CAACT,EAAE,kBACzCL,oBAA8D,MAA9De,UAA8D,mBAA3BD,cAAO,CAACE,WAAW,kBACtDhB,oBAMM,OANNiB,UAMM,GALJjB,oBAA4G,QAA5GkB,UAA4G,mBAA/DJ,aAAM,CAACA,cAAO,CAACK,cAAc,OAAOL,kBAAW,SAAO,IAAE,iBACrGd,oBAGM,cAFJA,oBAA2I,QAA3IoB,UAA2I,mBAA9EN,eAAQ,CAACA,cAAO,CAACK,cAAc,EAAEL,cAAO,CAACO,YAAY,EAAEP,kBAAW,KAAG,IAAE,iBACpId,oBAAgH,QAAhHsB,WAAgH,mBAA9DR,aAAM,CAACA,cAAO,CAACO,YAAY,OAAOP,kBAAW,SAAO,KAAG,qBAI7Gd,oBAKS;IALDK,EAAE,EAAC,YAAY;IAAEkB,QAAM,yCAAET,mDAAY;IAAEf,KAAK,EAAC,kBAAkB;IAAC,YAAU,EAAC;MACjFyB,WAA+B,qBAC/BhB,oBAESiB,6BAFuBX,cAAO,CAACY,UAAU,GAAlCC,IAAI,EAAEC,KAAK;yBAA3BpB,oBAES;MAF4CqB,GAAG,EAAED,KAAK;MAAGrB,KAAK,EAAEoB,IAAI,CAACG;wBAC1EH,IAAI,CAACI,UAAU,IAAE,IAAE,oBAAEJ,IAAI,CAACG,WAAW,IAAE,KAC3C;6DAGJE,WAMM","names":["class","_createElementVNode","src","alt","style","selected","id","type","value","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$setup","_hoisted_6","productName","_hoisted_7","_hoisted_8","beforeDiscount","_hoisted_9","productPrice","_hoisted_10","onChange","_hoisted_11","_Fragment","optionData","item","index","key","optionPrice","optionText","_hoisted_13"],"sourceRoot":"","sources":["/Users/dino/Library/Mobile Documents/com~apple~CloudDocs/공유/project/TGolShop/frontend/src/components/PurchasePage.vue"],"sourcesContent":["<template>\n  <div class=\"container px-4 px-lg-5 my-5\">\n    <div class=\"row gx-4 gx-lg-5 align-items-center\">\n      <div class=\"col-md-6 col-xl-5\">\n        <img src='http://localhost:3000/static/image/${imagePath}' alt=\"product\" class=\"card-img-top mb-5 mb-md-0\">\n      </div>\n      <div class=\"col-md-6 col-xl-7\">\n        <div class=\"small mb-1\">상품 코드: {{product.id}} </div>\n          <h1 class=\"display-5 fw-bolder\"> {{product.productName}} </h1>\n          <div class=\"fs-5 mb-3\">\n            <span class=\"text-decoration-line-through\">{{filter(product.beforeDiscount * 1 + optionPrice * 1)}} 원</span>\n            <div>\n              <span style=\"font-weight:900; font-size:40px; color:red;\"> {{discount(product.beforeDiscount, product.productPrice, optionPrice)}}% </span>\n              <span style=\"font-weight:900; font-size:30px;\"> {{filter(product.productPrice * 1 + optionPrice * 1)}} 원 </span>\n            </div>\n          </div>\n\n          <select id=\"optionText\" @change=\"selectOption\" class=\"form-select mb-5\" aria-label=\"Default select example\">\n            <option selected>옵션 선택</option>\n            <option v-for=\"(item, index) in product.optionData\" :key=\"index\" :value=\"item.optionPrice\"> \n              {{item.optionText}}(+{{item.optionPrice}}원)\n            </option>\n          </select>\n\n        <div class=\"d-flex\">\n          <input class=\"form-control text-center me-3\" id=\"inputQuantity\" type=\"num\" value=\"1\" style=\"max-width: 3rem\">\n          <button class=\"btn btn-outline-dark flex-shrink-0\" type=\"button\">\n              <i class=\"bi-cart-fill me-1\"></i>\n              Add to cart\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { useRoute } from 'vue-router'\nimport { ref } from '@vue/reactivity';\n\nexport default {\n  name: 'PurchasePage',\n  setup() {\n    const route = useRoute();\n    let imagePath = ref('');\n    let product = ref({});\n    let productId = ref(0);\n    let optionText = ref('');\n    let optionPrice = ref(0);\n\n\n    axios.get('/api/product/purchase/' + route.params.id)\n    .then(res=>{\n      console.log(res.data);\n      product.value = res.data;\n      imagePath.value = product.value.thumbnail;\n    })\n    .catch(err=>{\n      console.log(err);\n    })\n\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    \n    function discount(before, after, optionPrice) {\n      let answer = 100 * (1 - (after*1 + optionPrice*1) / (before*1 + optionPrice*1));\n      return Math.round(answer);\n    }\n\n    function selectOption() {\n      let optionSelect = document.getElementById('optionText');\n      if (optionSelect.options[document.getElementById('optionText').selectedIndex].text === '옵션 선택') {\n        optionText.value = '';\n        optionPrice.value = 0;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      } else {\n        optionText.value = optionSelect.options[document.getElementById('optionText').selectedIndex].text;\n        optionPrice.value = optionSelect.options[document.getElementById('optionText').selectedIndex].value;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      }\n    }\n\n    return{productId, product, filter, discount, selectOption, imagePath, optionPrice};\n  }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}