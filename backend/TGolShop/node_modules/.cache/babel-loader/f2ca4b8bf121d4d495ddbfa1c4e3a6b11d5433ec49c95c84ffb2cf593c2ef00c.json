{"ast":null,"code":"import axios from 'axios';\nimport { useRoute } from 'vue-router';\nimport { ref } from '@vue/reactivity';\nexport default {\n  name: 'PurchasePage',\n  setup() {\n    const route = useRoute();\n    let imagePath = ref('');\n    let infoImage = ref('');\n    let product = ref({});\n    let productId = ref(0);\n    let optionText = ref('');\n    let optionPrice = ref(0);\n    let orderNum = ref(0);\n    let optionSelected = ref(0);\n    let productInfo = ref(true);\n    let relatedProduct = ref(false);\n    let review = ref(false);\n    let qna = ref(false);\n    let relatedList = ref([]);\n    axios.get('/api/product/purchase/' + route.params.id).then(res => {\n      console.log(res.data);\n      product.value = res.data;\n      imagePath.value = 'http://localhost:3000/static/image/' + res.data.thumbnail;\n      infoImage.value = 'http://localhost:3000/static/image/' + res.data.infoImage;\n      console.log(res.data.divide);\n      return axios.get('/api/product/related?divide=' + res.data.divide);\n    }).then(res => {\n      console.log(res.data);\n      relatedList.value = res.data;\n    }).catch(err => {\n      console.log(err);\n    });\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    function discount(before, after, optionPrice) {\n      let answer = 100 * (1 - (after * 1 + optionPrice * 1) / (before * 1 + optionPrice * 1));\n      return Math.round(answer);\n    }\n    function selectOption() {\n      let optionSelect = document.getElementById('optionText');\n      if (optionSelect.options[document.getElementById('optionText').selectedIndex].text === '옵션 선택') {\n        optionText.value = '';\n        optionPrice.value = 0;\n        optionSelected.value = 0;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      } else {\n        optionText.value = optionSelect.options[document.getElementById('optionText').selectedIndex].text;\n        optionPrice.value = optionSelect.options[document.getElementById('optionText').selectedIndex].value;\n        optionSelected.value = 1;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      }\n    }\n    function selectNum() {\n      let numberSelect = document.getElementById('orderNum');\n      if (numberSelect.options[document.getElementById('orderNum').selectedIndex].text === '0') {\n        orderNum.value = 0;\n        console.log(orderNum.value);\n      } else {\n        orderNum.value = numberSelect.options[document.getElementById('orderNum').selectedIndex].value;\n        console.log(orderNum.value);\n      }\n    }\n    function clickProdInfo() {\n      productInfo.value = true;\n      relatedProduct.value = false;\n      review.value = false;\n      qna.value = false;\n    }\n    function clickRelProd() {\n      productInfo.value = false;\n      relatedProduct.value = true;\n      review.value = false;\n      qna.value = false;\n    }\n    function clickReview() {\n      productInfo.value = false;\n      relatedProduct.value = false;\n      review.value = true;\n      qna.value = false;\n    }\n    function clickQna() {\n      productInfo.value = false;\n      relatedProduct.value = false;\n      review.value = false;\n      qna.value = true;\n    }\n    return {\n      productId,\n      product,\n      filter,\n      discount,\n      selectOption,\n      imagePath,\n      optionPrice,\n      selectNum,\n      optionSelected,\n      orderNum,\n      infoImage,\n      productInfo,\n      relatedProduct,\n      review,\n      qna,\n      clickProdInfo,\n      clickRelProd,\n      clickReview,\n      clickQna,\n      relatedList\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","useRoute","ref","name","setup","route","imagePath","infoImage","product","productId","optionText","optionPrice","orderNum","optionSelected","productInfo","relatedProduct","review","qna","relatedList","get","params","id","then","res","console","log","data","value","thumbnail","divide","catch","err","filter","val","String","replace","discount","before","after","answer","Math","round","selectOption","optionSelect","document","getElementById","options","selectedIndex","text","selectNum","numberSelect","clickProdInfo","clickRelProd","clickReview","clickQna"],"sourceRoot":"","sources":["/Users/dino/Library/Mobile Documents/com~apple~CloudDocs/공유/project/TGolShop/frontend/src/components/PurchasePage.vue"],"sourcesContent":["<template>\n  <div class=\"container px-4 px-lg-5 my-5\">\n    <div class=\"row gx-4 gx-lg-5 align-items-center\">\n      <div class=\"col-md-6 col-xl-5\">\n        <img :src='imagePath' alt=\"product\" class=\"card-img-top mb-5 mb-md-0\">\n      </div>\n      <div align=\"left\" class=\"col-md-6 col-xl-7 border\">\n        <div class=\"small mb-4 mt-1\">상품 코드: {{product.id}} </div>\n        <h3 v-if=\"product.deliverOut\" style=\"font-weight:bold; color:red;\">[해외 직구]</h3>\n        <h2 class=\"fw-bolder mb-4\"> {{product.productName}} </h2>\n        <div class=\"fs-5 mb-3\">\n          <span class=\"text-decoration-line-through\">{{filter(product.beforeDiscount * 1 + optionPrice * 1)}} 원</span>\n          <div>\n            <span style=\"font-weight:900; font-size:40px; color:red;\"> {{discount(product.beforeDiscount, product.productPrice, optionPrice)}}% </span>\n            <span style=\"font-weight:900; font-size:30px;\"> {{filter(product.productPrice * 1 + optionPrice * 1)}} 원 </span>\n          </div>\n        </div>\n        \n        <div class=\"mb-3\" align=\"left\">\n          <div class=\"mb-1\" style=\"font-size:19px\">무료 배송</div>\n          <div v-if=\"product.deliverKor\" style=\"font-size:19px\">당일 배송 (16시 이전 주문 건)</div> \n          <div v-if=\"product.deliverOut\" style=\"font-size:19px\">발송 완료까지 최대 2주 소요</div>\n        </div>\n      \n        <select id=\"optionText\" @change=\"selectOption\" class=\"form-select mb-2\" aria-label=\"Default select example\">\n          <option selected>옵션 선택</option>\n          <option v-for=\"(item, index) in product.optionData\" :key=\"index\" :value=\"item.optionPrice\"> \n            {{item.optionText}}(+{{item.optionPrice}}원)\n          </option>\n        </select>\n         <select id=\"optionText\" class=\"form-select mb-5\" aria-label=\"Default select example\">\n          <option selected>결제 방법</option>\n          <option> 무통장입금 </option>\n          <option> 일반 카드 결제 </option>\n          <option> 카카오페이 </option>\n          <option> 네이버페이 </option>\n        </select>\n        <div class=\"d-flex mb-3\">\n          <span class=\"me-3\" style=\"font-size:25px; font-weight:900; color:red;\">최종 금액:</span>\n          <span class=\"me-1\" style=\"font-size:25px; font-weight:900\"> {{filter((product.productPrice * 1 + optionPrice * 1)*optionSelected*orderNum)}} </span>\n          <span style=\"font-size:25px; font-weight:900\"> 원 </span>\n          \n        </div>  \n        <div class=\"d-flex\">\n          <span class=\"ms-2\" style=\"font-size:15px;\">주문 개수</span>\n        </div>\n        <div class=\"d-flex mb-2\">\n          \n          <select @change=\"selectNum\" id=\"orderNum\" class=\"form-select me-2 ms-1\" aria-label=\"Default select example\" style=\"max-width: 4rem\">\n            <option selected>0</option>\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n          </select>\n          <!-- <input class=\"form-control text-center me-3 ms-1\" id=\"inputQuantity\" type=\"num\" value=\"1\" style=\"max-width: 3rem\"> -->\n          <button class=\"btn btn-outline-success flex-shrink-0 me-1\" style=\"font-weight:bold;\" type=\"button\">\n              <i class=\"bi-cart-fill me-1\"></i>\n              장바구니 담기\n          </button>\n          <button class=\"btn btn-danger\" style=\"font-weight:bold;\">구매하기</button>\n        </div>\n      </div>\n      \n      <div class=\"border mt-3\">\n        <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n          <li class=\"nav-item\" role=\"presentation\">\n            <button @click=\"clickProdInfo\" class=\"nav-link active\" id=\"pills-home-tab\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"true\">상품정보</button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button @click=\"clickRelProd\" class=\"nav-link\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">관련상품</button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button @click=\"clickReview\" class=\"nav-link\" id=\"pills-contact-tab\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">상품후기</button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button @click=\"clickQna\" class=\"nav-link\" data-bs-toggle=\"pill\" type=\"button\" role=\"tab\" aria-selected=\"false\">상품문의</button>\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-12 border\">\n        <div v-if=\"productInfo\" class=\"col-12 d-flex\">\n          <div class=\"d-none d-md-block col-md-1 col-xl-2\"></div>\n          <div class=\"col-12 col-md-10 col-xl-8\">\n            <img :src='infoImage' alt=\"product\" class=\"img-fluid mt-5\">\n          </div>\n          <div class=\"d-none d-md-block col-md-1 col-xl-2\"></div>\n        </div>\n\n        <div v-if=\"related\" class=\"container mt-5\">\n          <div class=\"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 g-4\">\n            <div class=\"col\" v-for=\"item in relatedList\" :key=\"item\">\n              <div @click=\"clickCard\" style=\"cursor:pointer;\" class=\"card shadow-sm\">\n                <div id=\"img-border\">\n                  <img id=\"image\" :src='`http://localhost:3000/static/image/${item.thumbnail}`' alt=\"logo\" class=\"img-fluid img-thumbnail\">\n                </div>\n                <div class=\"d-flex\">\n                  <span class=\"ms-1\" style=\"font-size:11px;\">상품 코드: </span>\n                  <span class=\"ms-1\" style=\"font-size:11px;\">{{item.id}}</span>\n                  <span v-if=\"item.deliverOut\" class=\"ms-2\" style=\"font-size:11px; color:red; font-weight:bold;\">[해외직구]</span>\n                </div>\n                \n                <div class=\"card-body\">\n                  \n                  <div id=\"text-border1\" class=\"d-lg-none\">\n                    <p id=\"product-text\" class=\"card-text\" style=\"font-weight:600;\"> {{item.productName}} </p>\n                  </div>\n                  <div id=\"text-border2\" class=\"d-none d-lg-block\">\n                    <p id=\"product-text\" class=\"card-text\" style=\"font-weight:600;\"> {{item.productName}} </p>\n                  </div>\n                  \n                  <span class=\"text-decoration-line-through\" style=\"font-weight:bold; color:gray\">{{filter(item.beforeDiscount)}} 원</span>\n                  <div>\n                    <span style=\"font-weight:900; font-size:30px; color:red;\"> {{discount(item.beforeDiscount, item.productPrice, 0)}}% </span>\n                    <span style=\"font-weight:900; font-size:22px;\"> {{filter(item.productPrice)}} 원 </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { useRoute } from 'vue-router'\nimport { ref } from '@vue/reactivity';\n\nexport default {\n  name: 'PurchasePage',\n  setup() {\n    const route = useRoute();\n    let imagePath = ref('');\n    let infoImage = ref('');\n    let product = ref({});\n    let productId = ref(0);\n    let optionText = ref('');\n    let optionPrice = ref(0);\n    let orderNum = ref(0);\n    let optionSelected = ref(0);\n    let productInfo = ref(true);\n    let relatedProduct = ref(false);\n    let review = ref(false);\n    let qna = ref(false);\n    let relatedList = ref([]);\n\n\n    axios.get('/api/product/purchase/' + route.params.id)\n    .then(res=>{\n      console.log(res.data);\n      product.value = res.data;\n      imagePath.value = 'http://localhost:3000/static/image/' + res.data.thumbnail;\n      infoImage.value = 'http://localhost:3000/static/image/' + res.data.infoImage;\n      console.log(res.data.divide);\n      return axios.get('/api/product/related?divide=' + res.data.divide);\n    })\n    .then(res=>{\n      console.log(res.data);\n      relatedList.value = res.data;\n    })\n    .catch(err=>{\n      console.log(err);\n    })\n\n\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    \n    function discount(before, after, optionPrice) {\n      let answer = 100 * (1 - (after*1 + optionPrice*1) / (before*1 + optionPrice*1));\n      return Math.round(answer);\n    }\n\n    function selectOption() {\n      let optionSelect = document.getElementById('optionText');\n      if (optionSelect.options[document.getElementById('optionText').selectedIndex].text === '옵션 선택') {\n        optionText.value = '';\n        optionPrice.value = 0;\n        optionSelected.value = 0;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      } else {\n        optionText.value = optionSelect.options[document.getElementById('optionText').selectedIndex].text;\n        optionPrice.value = optionSelect.options[document.getElementById('optionText').selectedIndex].value;\n        optionSelected.value = 1;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      }\n    }\n\n    function selectNum() {\n      let numberSelect = document.getElementById('orderNum');\n      if (numberSelect.options[document.getElementById('orderNum').selectedIndex].text === '0') {\n        orderNum.value = 0;\n        console.log(orderNum.value);\n      } else {\n        orderNum.value = numberSelect.options[document.getElementById('orderNum').selectedIndex].value;\n        console.log(orderNum.value);\n      }\n    }\n\n    function clickProdInfo() {\n      productInfo.value = true;\n      relatedProduct.value = false;\n      review.value = false;\n      qna.value = false;\n    }\n    function clickRelProd() {\n      \n      productInfo.value = false;\n      relatedProduct.value = true;\n      review.value = false;\n      qna.value = false;\n    }\n    function clickReview() {\n      productInfo.value = false;\n      relatedProduct.value = false;\n      review.value = true;\n      qna.value = false;\n    }\n    function clickQna() {\n      productInfo.value = false;\n      relatedProduct.value = false;\n      review.value = false;\n      qna.value = true;\n    }\n\n    \n    \n\n    return{productId, product, filter, discount, selectOption, imagePath, optionPrice, selectNum, optionSelected, orderNum, infoImage,\n    productInfo, relatedProduct, review, qna, clickProdInfo, clickRelProd,clickReview, clickQna, relatedList};\n  }\n}\n</script>\n\n<style>\n.nav-pills > .nav-item > button.active {\n  background-color:rgb(49, 178, 2);\n}\n.nav-pills > .nav-item > button{\n  color:darkgray;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}