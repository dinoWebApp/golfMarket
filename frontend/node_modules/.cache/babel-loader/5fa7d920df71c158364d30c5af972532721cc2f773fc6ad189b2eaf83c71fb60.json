{"ast":null,"code":"import axios from 'axios';\nimport { useRoute } from 'vue-router';\nimport { ref } from '@vue/reactivity';\nexport default {\n  name: 'PurchasePage',\n  setup() {\n    const route = useRoute();\n    let imagePath = ref('');\n    let product = ref({});\n    let productId = ref(0);\n    let optionText = ref('');\n    let optionPrice = ref(0);\n    axios.get('/api/product/purchase/' + route.params.id).then(res => {\n      console.log(res.data);\n      product.value = res.data;\n      imagePath.value = product.value.thumbnail;\n    }).catch(err => {\n      console.log(err);\n    });\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    function discount(before, after, optionPrice) {\n      let answer = 100 * (1 - (after * 1 + optionPrice * 1) / (before * 1 + optionPrice * 1));\n      return Math.round(answer);\n    }\n    function selectOption() {\n      let optionSelect = document.getElementById('optionText');\n      if (optionSelect.options[document.getElementById('optionText').selectedIndex].text === '옵션 선택') {\n        optionText.value = '';\n        optionPrice.value = 0;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      } else {\n        optionText.value = optionSelect.options[document.getElementById('optionText').selectedIndex].text;\n        optionPrice.value = optionSelect.options[document.getElementById('optionText').selectedIndex].value;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      }\n    }\n    function image() {\n      let path = 'http://localhost:3000';\n      return;\n    }\n    return {\n      productId,\n      product,\n      filter,\n      discount,\n      selectOption,\n      imagePath,\n      optionPrice\n    };\n  }\n};","map":{"version":3,"mappings":"AAqCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,QAAO,QAAS,YAAW;AACpC,SAASC,GAAE,QAAS,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,EAAE;IACxB,IAAIK,SAAQ,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACvB,IAAIK,OAAM,GAAIL,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,IAAIM,SAAQ,GAAIN,GAAG,CAAC,CAAC,CAAC;IACtB,IAAIO,UAAS,GAAIP,GAAG,CAAC,EAAE,CAAC;IACxB,IAAIQ,WAAU,GAAIR,GAAG,CAAC,CAAC,CAAC;IAGxBF,KAAK,CAACW,GAAG,CAAC,wBAAuB,GAAIN,KAAK,CAACO,MAAM,CAACC,EAAE,EACnDC,IAAI,CAACC,GAAG,IAAE;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC;MACrBX,OAAO,CAACY,KAAI,GAAIJ,GAAG,CAACG,IAAI;MACxBZ,SAAS,CAACa,KAAI,GAAIZ,OAAO,CAACY,KAAK,CAACC,SAAS;IAC3C,CAAC,EACAC,KAAK,CAACC,GAAG,IAAE;MACVN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;IAClB,CAAC;IAED,SAASC,MAAM,CAACC,GAAG,EAAE;MACnB,OAAOC,MAAM,CAACD,GAAG,CAAC,CAACE,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IAC1D;IAEA,SAASC,QAAQ,CAACC,MAAM,EAAEC,KAAK,EAAEnB,WAAW,EAAE;MAC5C,IAAIoB,MAAK,GAAI,GAAE,IAAK,IAAI,CAACD,KAAK,GAAC,IAAInB,WAAW,GAAC,CAAC,KAAKkB,MAAM,GAAC,IAAIlB,WAAW,GAAC,CAAC,CAAC,CAAC;MAC/E,OAAOqB,IAAI,CAACC,KAAK,CAACF,MAAM,CAAC;IAC3B;IAEA,SAASG,YAAY,GAAG;MACtB,IAAIC,YAAW,GAAIC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;MACxD,IAAIF,YAAY,CAACG,OAAO,CAACF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACE,aAAa,CAAC,CAACC,IAAG,KAAM,OAAO,EAAE;QAC9F9B,UAAU,CAACU,KAAI,GAAI,EAAE;QACrBT,WAAW,CAACS,KAAI,GAAI,CAAC;QACrBH,OAAO,CAACC,GAAG,CAACR,UAAU,CAACU,KAAK,CAAC;QAC7BH,OAAO,CAACC,GAAG,CAACP,WAAW,CAACS,KAAK,CAAC;MAChC,OAAO;QACLV,UAAU,CAACU,KAAI,GAAIe,YAAY,CAACG,OAAO,CAACF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACE,aAAa,CAAC,CAACC,IAAI;QACjG7B,WAAW,CAACS,KAAI,GAAIe,YAAY,CAACG,OAAO,CAACF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACE,aAAa,CAAC,CAACnB,KAAK;QACnGH,OAAO,CAACC,GAAG,CAACR,UAAU,CAACU,KAAK,CAAC;QAC7BH,OAAO,CAACC,GAAG,CAACP,WAAW,CAACS,KAAK,CAAC;MAChC;IACF;IAEA,SAASqB,KAAK,GAAG;MACf,IAAIC,IAAG,GAAI,uBAAsB;MACjC;IACF;IAEA,OAAM;MAACjC,SAAS;MAAED,OAAO;MAAEgB,MAAM;MAAEI,QAAQ;MAAEM,YAAY;MAAE3B,SAAS;MAAEI;IAAW,CAAC;EACpF;AACF","names":["axios","useRoute","ref","name","setup","route","imagePath","product","productId","optionText","optionPrice","get","params","id","then","res","console","log","data","value","thumbnail","catch","err","filter","val","String","replace","discount","before","after","answer","Math","round","selectOption","optionSelect","document","getElementById","options","selectedIndex","text","image","path"],"sourceRoot":"","sources":["/Users/dino/Library/Mobile Documents/com~apple~CloudDocs/공유/project/TGolShop/frontend/src/components/PurchasePage.vue"],"sourcesContent":["<template>\n  <div class=\"container px-4 px-lg-5 my-5\">\n    <div class=\"row gx-4 gx-lg-5 align-items-center\">\n      <div class=\"col-md-6 col-xl-5\">\n        <img :src='`http://localhost:3000/static/image/${imagePath}`' alt=\"product\" class=\"card-img-top mb-5 mb-md-0\">\n      </div>\n      <div class=\"col-md-6 col-xl-7\">\n        <div class=\"small mb-1\">상품 코드: {{product.id}} </div>\n          <h1 class=\"display-5 fw-bolder\"> {{product.productName}} </h1>\n          <div class=\"fs-5 mb-3\">\n            <span class=\"text-decoration-line-through\">{{filter(product.beforeDiscount * 1 + optionPrice * 1)}} 원</span>\n            <div>\n              <span style=\"font-weight:900; font-size:40px; color:red;\"> {{discount(product.beforeDiscount, product.productPrice, optionPrice)}}% </span>\n              <span style=\"font-weight:900; font-size:30px;\"> {{filter(product.productPrice * 1 + optionPrice * 1)}} 원 </span>\n            </div>\n          </div>\n\n          <select id=\"optionText\" @change=\"selectOption\" class=\"form-select mb-5\" aria-label=\"Default select example\">\n            <option selected>옵션 선택</option>\n            <option v-for=\"(item, index) in product.optionData\" :key=\"index\" :value=\"item.optionPrice\"> \n              {{item.optionText}}(+{{item.optionPrice}}원)\n            </option>\n          </select>\n\n        <div class=\"d-flex\">\n          <input class=\"form-control text-center me-3\" id=\"inputQuantity\" type=\"num\" value=\"1\" style=\"max-width: 3rem\">\n          <button class=\"btn btn-outline-dark flex-shrink-0\" type=\"button\">\n              <i class=\"bi-cart-fill me-1\"></i>\n              Add to cart\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { useRoute } from 'vue-router'\nimport { ref } from '@vue/reactivity';\n\nexport default {\n  name: 'PurchasePage',\n  setup() {\n    const route = useRoute();\n    let imagePath = ref('');\n    let product = ref({});\n    let productId = ref(0);\n    let optionText = ref('');\n    let optionPrice = ref(0);\n\n\n    axios.get('/api/product/purchase/' + route.params.id)\n    .then(res=>{\n      console.log(res.data);\n      product.value = res.data;\n      imagePath.value = product.value.thumbnail;\n    })\n    .catch(err=>{\n      console.log(err);\n    })\n\n    function filter(val) {\n      return String(val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    \n    function discount(before, after, optionPrice) {\n      let answer = 100 * (1 - (after*1 + optionPrice*1) / (before*1 + optionPrice*1));\n      return Math.round(answer);\n    }\n\n    function selectOption() {\n      let optionSelect = document.getElementById('optionText');\n      if (optionSelect.options[document.getElementById('optionText').selectedIndex].text === '옵션 선택') {\n        optionText.value = '';\n        optionPrice.value = 0;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      } else {\n        optionText.value = optionSelect.options[document.getElementById('optionText').selectedIndex].text;\n        optionPrice.value = optionSelect.options[document.getElementById('optionText').selectedIndex].value;\n        console.log(optionText.value);\n        console.log(optionPrice.value);\n      }\n    }\n\n    function image() {\n      let path = 'http://localhost:3000'\n      return \n    }\n\n    return{productId, product, filter, discount, selectOption, imagePath, optionPrice};\n  }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}