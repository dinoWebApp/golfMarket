{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from '@vue/reactivity';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nimport { watch } from '@vue/runtime-core';\nexport default {\n  name: 'SignUp',\n  setup() {\n    const router = useRouter();\n    let nickNameCheck = ref(false);\n    let existNickName = ref(false);\n    let idCheck = ref(false);\n    let existId = ref(false);\n    let addressNum = ref('');\n    let address = ref('');\n    let addressName = ref('');\n    let detailAddress = ref('');\n    let phoneNum = ref(null);\n    let nickName = ref('');\n    let id = ref('');\n    let pw = ref('');\n    let pwCheck = ref('');\n    let pwValid = ref(false);\n    let name = ref('');\n    let signUpData = ref({\n      nickName: nickName,\n      id: id,\n      pw: pw,\n      name: name,\n      phoneNum: phoneNum,\n      addressNum: addressNum,\n      address: address,\n      addressName: addressName,\n      detailAddress: detailAddress\n    });\n    function inputAddress() {\n      new window.daum.Postcode({\n        oncomplete: function (data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n          if (data.userSelectedType === 'R') {\n            if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n            if (data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += extraAddr !== '' ? ', ' + data.buildingName : data.buildingName;\n            }\n            if (extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n            addressName.value = extraAddr;\n          } else {\n            addressName.value = '';\n          }\n          addressNum.value = data.zonecode;\n          address.value = addr;\n          document.getElementById('detailAddress').focus();\n        }\n      }).open();\n    }\n    function sendInf() {\n      if (nickName.value === '' || id.value === '' || pw.value === '' || name.value === '' || phoneNum.value === null || address.value === '' || detailAddress.value === '') {\n        alert('입력되지 않은 항목이 있습니다.');\n      } else if (nickNameCheck.value === false) {\n        alert('닉네임 중복체크를 하지 않았습니다.');\n      } else if (idCheck.value === false) {\n        alert('아이디 중복체크를 하지 않았습니다.');\n      } else {\n        axios.post('/api/customer/sign-up', signUpData.value).then(res => {\n          console.log(res.data);\n          if (res.data === 'sign-up success') router.push({\n            path: '/customer/login'\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function checkNick() {\n      if (nickName.value === '') {\n        alert('닉네임이 입력되지 않았습니다.');\n      } else {\n        console.log(nickName.value);\n        axios.get('/api/customer/sign-up/nick-check?nick=' + nickName.value).then(res => {\n          console.log(res.data);\n          if (res.data === 'existed') {\n            existNickName.value = true;\n          } else {\n            existNickName.value = false;\n            nickNameCheck.value = true;\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function checkId() {\n      if (id.value === '') {\n        alert('아이디가 입력되지 않았습니다.');\n      } else {\n        console.log(id.value);\n        axios.get('/api/customer/sign-up/id-check?id=' + id.value).then(res => {\n          console.log(res.data);\n          if (res.data === 'existed') {\n            existId.value = true;\n          } else {\n            existNickName.value = false;\n            idCheck.value = true;\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    function inputNickName(e) {\n      nickNameCheck.value = false;\n      existNickName.value = false;\n      nickName.value = e.target.value;\n    }\n    function inputName(e) {\n      name.value = e.target.value;\n    }\n    function inputId(e) {\n      idCheck.value = false;\n      existId.value = false;\n      id.value = e.target.value;\n    }\n    watch(phoneNum, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      if (isNaN(newValue)) {\n        phoneNum.value = oldValue;\n      }\n    });\n    watch(nickName, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      if (blank_pattern.test(newValue) || special_pattern.test(newValue)) {\n        alert('특수문자 또는 공백은 포함될 수 없습니다.');\n        nickName.value = oldValue;\n      }\n    });\n    watch(id, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      let kor_pattern = /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;\n      if (blank_pattern.test(newValue) || special_pattern.test(newValue) || kor_pattern.test(newValue)) {\n        alert('특수문자, 공백, 한글은 포함될 수 없습니다.');\n        id.value = oldValue;\n      }\n    });\n    watch(pw, (newValue, oldValue) => {\n      console.log({\n        newValue,\n        oldValue\n      });\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      let eng_pattern = /[a-zA-Z]/;\n      let num_pattern = /[0-9]/;\n      if (blank_pattern.test(newValue) || special_pattern.test(newValue)) {\n        alert('특수문자 또는 공백은 포함될 수 없습니다.');\n        pw.value = oldValue;\n      }\n      if (newValue.length >= 8 && newValue.length <= 20 && eng_pattern.test(newValue) && num_pattern.test(newValue)) {\n        pwValid.value = true;\n      } else pwValid.value = false;\n      if (newValue === '') {\n        document.getElementById('pw').style.borderColor = 'none';\n      } else if (pwValid.value === true) {\n        document.getElementById('pw').style.borderColor = 'green';\n      } else if (pwValid.value === false) {\n        document.getElementById('pw').style.borderColor = 'red';\n      }\n    });\n    return {\n      phoneNum,\n      addressNum,\n      address,\n      addressName,\n      detailAddress,\n      sendInf,\n      inputAddress,\n      nickName,\n      id,\n      pw,\n      pwCheck,\n      pwValid,\n      name,\n      nickNameCheck,\n      existNickName,\n      idCheck,\n      existId,\n      checkNick,\n      inputNickName,\n      inputName,\n      inputId,\n      checkId\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","axios","useRouter","watch","name","setup","router","nickNameCheck","existNickName","idCheck","existId","addressNum","address","addressName","detailAddress","phoneNum","nickName","id","pw","pwCheck","pwValid","signUpData","inputAddress","window","daum","Postcode","oncomplete","data","addr","extraAddr","userSelectedType","roadAddress","jibunAddress","bname","test","buildingName","apartment","value","zonecode","document","getElementById","focus","open","sendInf","alert","post","then","res","console","log","push","path","catch","err","checkNick","get","checkId","inputNickName","e","target","inputName","inputId","newValue","oldValue","isNaN","blank_pattern","special_pattern","kor_pattern","eng_pattern","num_pattern","length","style","borderColor"],"sourceRoot":"","sources":["/Users/dino/Library/Mobile Documents/com~apple~CloudDocs/공유/project/tgolshop/frontend/src/components/SignUp.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-3 col-10 col-sm-8 col-md-7 col-lg-5 col-xxl-4 border \">\n    <div class=\"mt-4 mb-3\">\n      <h3>간편 회원가입</h3>\n    </div>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-9 \">\n        닉네임\n        <div class=\"col-9 d-flex\">\n          <div class=\"col-12\">\n            <input v-bind:value=\"nickName\" @input=\"inputNickName\" type=\"text\" class=\"form-control mb-2\" id=\"nickName\" placeholder=\"닉네임\" maxlength=\"8\">\n          </div>\n          <div class=\"col-5\" v-if=\"nickNameCheck === false\">\n            <button @click=\"checkNick\" type=\"button\" class=\"btn btn-danger\" style=\"font-weight:bold;\">중복검사</button>\n          </div>\n          <div class=\"col-5\" v-if=\"nickNameCheck === true\">\n            <button type=\"button\" class=\"btn btn-success\" style=\"font-weight:bold;\">중복검사</button>\n          </div>\n        </div>\n        <div style=\"float:left\" v-if=\"existNickName\">이미 존재하는 닉네임입니다.</div>\n      </div>\n\n      <div class=\"col-9\">\n        아이디\n        <div class=\"col-9 d-flex\">\n          <div class=\"col-12\">\n            <input v-bind:value=\"id\" @input=\"inputId\" type=\"text\" class=\"form-control mb-2\" id=\"id\" placeholder=\"아이디\" maxlength=\"15\">\n          </div>\n          <div class=\"col-5\" v-if=\"idCheck === false\">\n            <button @click=\"checkId\" type=\"button\" class=\"btn btn-danger\" style=\"font-weight:bold;\">중복검사</button>\n          </div>\n          <div class=\"col-5\" v-if=\"idCheck === true\">\n            <button type=\"button\" class=\"btn btn-success\" style=\"font-weight:bold;\">중복검사</button>\n          </div>\n        </div>\n        <div style=\"float:left\" v-if=\"existId\">이미 존재하는 아이디입니다.</div>\n      </div>\n\n      <div class=\"col-9 mb-2\">\n        비밀번호\n        <input type=\"password\" class=\"form-control\" id=\"pw\" placeholder=\"비밀번호 (영문, 숫자 포함 8~20자)\" v-model=\"pw\">\n      </div>\n      <div class=\"col-9 mb-4\">\n        <input type=\"password\" class=\"form-control\" id=\"pwCheck\" placeholder=\"비밀번호 확인\" v-model=\"pwCheck\">\n      </div>\n\n\n      <h5>기본 배송지 정보</h5>\n      <div class=\"col-9 \">\n        성명\n        <input @input=\"inputName\" type=\"text\" class=\"form-control mb-2\" id=\"name\" placeholder=\"성명\">\n        휴대폰 번호\n        <input type=\"tel\" class=\"form-control mb-2\" id=\"phone-number\" placeholder=\"휴대폰 번호\" maxlength=\"11\" v-model=\"phoneNum\">\n      </div>\n      <div class=\"col-9 mt-3\">\n        <div class=\"d-flex\">\n          <div class=\"col-6\">\n            <input type=\"text\" class=\"form-control mb-2\" id=\"address-num\" v-model=\"addressNum\" placeholder=\"우편번호\" readonly>\n          </div>\n          <div class=\"col-6\">\n            <button  type=\"button\" class=\"btn btn-light border\" @click=\"inputAddress\">우편번호 찾기</button>\n          </div>\n        </div>\n        <div class=\"d-flex\">\n          <div class=\"col-9 pe-1\">\n            <input type=\"text\" class=\"form-control mb-2\" id=\"address1\" v-model=\"address\" placeholder=\"주소\"  readonly>\n          </div>\n          <div class=\"col-3 ps-1\" >\n            <input type=\"text\" class=\"form-control mb-2\" id=\"address3\" v-model=\"addressName\" placeholder=\"\" readonly>\n          </div>\n        </div>\n        <div class=\"d-flex\">\n          <div class=\"col-12\">\n            <input type=\"text\" class=\"form-control mb-2\" id=\"detailAddress\" v-model=\"detailAddress\" placeholder=\"상세주소\">\n          </div>\n          \n        </div>\n        <button @click=\"sendInf\" type=\"button\" class=\"btn btn-danger col-12 mt-3 mb-3\" style=\"font-weight:bold;\">간편 회원가입</button>\n      </div>\n      \n      \n    </div>\n    \n   \n    \n\n  </div>\n  \n</template>\n\n<script>\nimport { ref } from '@vue/reactivity';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nimport { watch } from '@vue/runtime-core';\nexport default {\n  name: 'SignUp',\n\n  setup() {\n    const router = useRouter();\n    let nickNameCheck = ref(false);\n    let existNickName = ref(false);\n    let idCheck = ref(false);\n    let existId = ref(false);\n    let addressNum = ref('');\n    let address = ref('');\n    let addressName = ref('');\n    let detailAddress = ref('');\n    let phoneNum = ref(null);\n    let nickName = ref('');\n    let id = ref('');\n    let pw = ref('');\n    let pwCheck = ref('');\n    let pwValid = ref(false);\n    let name = ref('');\n    let signUpData = ref({\n      nickName : nickName,\n      id : id,\n      pw : pw,\n      name : name,\n      phoneNum : phoneNum,\n      addressNum : addressNum,\n      address : address,\n      addressName : addressName,\n      detailAddress : detailAddress\n    });\n\n    function inputAddress() {\n      new window.daum.Postcode({\n        oncomplete: function(data) {\n          let addr = '';\n          let extraAddr = '';\n          if (data.userSelectedType === 'R') {\n            addr = data.roadAddress;\n          } else {\n            addr = data.jibunAddress;\n          }\n\n          if (data.userSelectedType === 'R') {\n            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n              extraAddr += data.bname;\n            }\n\n            if(data.buildingName !== '' && data.apartment === 'Y') {\n              extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);\n            }\n\n            if(extraAddr !== '') {\n              extraAddr = ' (' + extraAddr + ')';\n            }\n\n            addressName.value = extraAddr;\n          } else {\n            addressName.value = '';\n          }\n\n          addressNum.value = data.zonecode;\n          address.value = addr;\n          document.getElementById('detailAddress').focus();\n        }\n      }).open();\n    }\n\n    function sendInf() {\n      if (nickName.value === '' || id.value === '' || pw.value === '' || name.value === '' ||\n      phoneNum.value === null || address.value === '' || detailAddress.value === '') {\n        alert('입력되지 않은 항목이 있습니다.');\n      } else if (nickNameCheck.value === false) {\n        alert('닉네임 중복체크를 하지 않았습니다.');\n      } else if (idCheck.value === false) {\n        alert('아이디 중복체크를 하지 않았습니다.');\n      } else {\n        axios.post('/api/customer/sign-up', signUpData.value)\n        .then(res=>{\n          console.log(res.data);\n          if(res.data === 'sign-up success') router.push({path : '/customer/login'});\n        }).catch(err=>{\n          console.log(err);\n        });\n      }\n      \n    }\n\n    function checkNick() {\n      if (nickName.value === '') {\n        alert('닉네임이 입력되지 않았습니다.');\n      } else {\n        console.log(nickName.value);\n        axios.get('/api/customer/sign-up/nick-check?nick=' + nickName.value)\n        .then(res=>{\n          console.log(res.data);\n          if (res.data === 'existed') {\n            existNickName.value = true;\n          } else {\n            existNickName.value = false;\n            nickNameCheck.value = true;\n          }\n        }).catch(err=>{\n          console.log(err);\n        });\n      }\n     \n    }\n\n    function checkId() {\n      if (id.value === '') {\n        alert('아이디가 입력되지 않았습니다.');\n      } else {\n        console.log(id.value);\n        axios.get('/api/customer/sign-up/id-check?id=' + id.value)\n        .then(res=>{\n          console.log(res.data);\n          if (res.data === 'existed') {\n            existId.value = true;\n          } else {\n            existNickName.value = false;\n            idCheck.value = true;\n          }\n        }).catch(err=>{\n          console.log(err);\n        });\n      }\n     \n    }\n\n    function inputNickName(e) {\n      nickNameCheck.value = false;\n      existNickName.value = false;\n      nickName.value = e.target.value;\n    }\n\n    function inputName(e) {\n      name.value = e.target.value;\n    }\n\n    function inputId(e) {\n      idCheck.value = false;\n      existId.value = false;\n      id.value = e.target.value;\n    }\n\n    watch(phoneNum, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      if (isNaN(newValue)) {\n        phoneNum.value = oldValue;\n      }\n    });\n\n    watch(nickName, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      if(blank_pattern.test(newValue) || special_pattern.test(newValue)){\n        alert('특수문자 또는 공백은 포함될 수 없습니다.');\n        nickName.value = oldValue;\n      }\n    })\n\n    watch(id, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      let kor_pattern = /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;\n      if(blank_pattern.test(newValue) || special_pattern.test(newValue) ||\n      kor_pattern.test(newValue)){\n        alert('특수문자, 공백, 한글은 포함될 수 없습니다.');\n        id.value = oldValue;\n      }\n    });\n\n    watch(pw, (newValue, oldValue)=>{\n      console.log({newValue, oldValue});\n      let blank_pattern = /[\\s]/g;\n      let special_pattern = /[~!@#$%^&*()_+|<>?:{}]/;\n      let eng_pattern = /[a-zA-Z]/;\n      let num_pattern = /[0-9]/;\n      if (blank_pattern.test(newValue) || special_pattern.test(newValue)) {\n        alert('특수문자 또는 공백은 포함될 수 없습니다.');\n        pw.value = oldValue;\n      }\n      if (newValue.length >= 8 && newValue.length <= 20 && eng_pattern.test(newValue)\n      && num_pattern.test(newValue)) {\n        pwValid.value = true;\n      } else pwValid.value = false;\n      if (newValue === '') {\n        document.getElementById('pw').style.borderColor = 'none';\n      } else if(pwValid.value === true) {\n        document.getElementById('pw').style.borderColor = 'green';\n      } else if(pwValid.value === false) {\n        document.getElementById('pw').style.borderColor = 'red';\n      }\n    });\n\n    \n\n    \n\n\n    return {phoneNum, addressNum, address, addressName, detailAddress, sendInf, inputAddress, nickName, id, pw, pwCheck, pwValid,\n    name, nickNameCheck, existNickName, idCheck, existId, checkNick, inputNickName, inputName, inputId, checkId};\n  }\n\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}